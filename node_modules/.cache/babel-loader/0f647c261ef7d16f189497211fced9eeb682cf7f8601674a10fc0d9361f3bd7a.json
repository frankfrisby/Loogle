{"ast":null,"code":"export function addNode(fn) {\n  process.on('exit', function () {\n    return fn();\n  });\n\n  /**\n   * on the following events,\n   * the process will not end if there are\n   * event-handlers attached,\n   * therefore we have to call process.exit()\n   */\n  process.on('beforeExit', function () {\n    return fn().then(function () {\n      return process.exit();\n    });\n  });\n  // catches ctrl+c event\n  process.on('SIGINT', function () {\n    return fn().then(function () {\n      return process.exit();\n    });\n  });\n  // catches uncaught exceptions\n  process.on('uncaughtException', function (err) {\n    return fn().then(function () {\n      console.trace(err);\n      process.exit(101);\n    });\n  });\n}","map":{"version":3,"names":["addNode","fn","process","on","then","exit","err","console","trace"],"sources":["C:/Users/frank/node_modules/unload/dist/es/node.js"],"sourcesContent":["export function addNode(fn) {\n  process.on('exit', function () {\n    return fn();\n  });\n\n  /**\n   * on the following events,\n   * the process will not end if there are\n   * event-handlers attached,\n   * therefore we have to call process.exit()\n   */\n  process.on('beforeExit', function () {\n    return fn().then(function () {\n      return process.exit();\n    });\n  });\n  // catches ctrl+c event\n  process.on('SIGINT', function () {\n    return fn().then(function () {\n      return process.exit();\n    });\n  });\n  // catches uncaught exceptions\n  process.on('uncaughtException', function (err) {\n    return fn().then(function () {\n      console.trace(err);\n      process.exit(101);\n    });\n  });\n}"],"mappings":"AAAA,OAAO,SAASA,OAAO,CAACC,EAAE,EAAE;EAC1BC,OAAO,CAACC,EAAE,CAAC,MAAM,EAAE,YAAY;IAC7B,OAAOF,EAAE,EAAE;EACb,CAAC,CAAC;;EAEF;AACF;AACA;AACA;AACA;AACA;EACEC,OAAO,CAACC,EAAE,CAAC,YAAY,EAAE,YAAY;IACnC,OAAOF,EAAE,EAAE,CAACG,IAAI,CAAC,YAAY;MAC3B,OAAOF,OAAO,CAACG,IAAI,EAAE;IACvB,CAAC,CAAC;EACJ,CAAC,CAAC;EACF;EACAH,OAAO,CAACC,EAAE,CAAC,QAAQ,EAAE,YAAY;IAC/B,OAAOF,EAAE,EAAE,CAACG,IAAI,CAAC,YAAY;MAC3B,OAAOF,OAAO,CAACG,IAAI,EAAE;IACvB,CAAC,CAAC;EACJ,CAAC,CAAC;EACF;EACAH,OAAO,CAACC,EAAE,CAAC,mBAAmB,EAAE,UAAUG,GAAG,EAAE;IAC7C,OAAOL,EAAE,EAAE,CAACG,IAAI,CAAC,YAAY;MAC3BG,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;MAClBJ,OAAO,CAACG,IAAI,CAAC,GAAG,CAAC;IACnB,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}