{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nvar hasOwnProp = Object.prototype.hasOwnProperty;\n/**\n* @typedef {null|boolean|number|string|PlainObject|GenericArray} JSONObject\n*/\n\n/**\n * Copies array and then pushes item into it.\n * @param {GenericArray} arr Array to copy and into which to push\n * @param {any} item Array item to add (to end)\n * @returns {GenericArray} Copy of the original array\n */\n\nfunction push(arr, item) {\n  arr = arr.slice();\n  arr.push(item);\n  return arr;\n}\n/**\n * Copies array and then unshifts item into it.\n * @param {any} item Array item to add (to beginning)\n * @param {GenericArray} arr Array to copy and into which to unshift\n * @returns {GenericArray} Copy of the original array\n */\n\nfunction unshift(item, arr) {\n  arr = arr.slice();\n  arr.unshift(item);\n  return arr;\n}\n/**\n * Caught when JSONPath is used without `new` but rethrown if with `new`\n * @extends Error\n */\n\nvar NewError = /*#__PURE__*/function (_Error) {\n  _inherits(NewError, _Error);\n  var _super = _createSuper(NewError);\n\n  /**\n   * @param {any} value The evaluated scalar value\n   */\n  function NewError(value) {\n    var _this;\n    _classCallCheck(this, NewError);\n    _this = _super.call(this, 'JSONPath should not be called with \"new\" (it prevents return ' + 'of (unwrapped) scalar values)');\n    _this.avoidNew = true;\n    _this.value = value;\n    _this.name = 'NewError';\n    return _this;\n  }\n  return NewError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n* @typedef {PlainObject} ReturnObject\n* @property {string} path\n* @property {JSONObject} value\n* @property {PlainObject|GenericArray} parent\n* @property {string} parentProperty\n*/\n\n/**\n* @callback JSONPathCallback\n* @param {string|PlainObject} preferredOutput\n* @param {\"value\"|\"property\"} type\n* @param {ReturnObject} fullRetObj\n* @returns {void}\n*/\n\n/**\n* @callback OtherTypeCallback\n* @param {JSONObject} val\n* @param {string} path\n* @param {PlainObject|GenericArray} parent\n* @param {string} parentPropName\n* @returns {boolean}\n*/\n\n/* eslint-disable max-len -- Can make multiline type after https://github.com/syavorsky/comment-parser/issues/109 */\n\n/**\n * @typedef {PlainObject} JSONPathOptions\n * @property {JSON} json\n * @property {string|string[]} path\n * @property {\"value\"|\"path\"|\"pointer\"|\"parent\"|\"parentProperty\"|\"all\"} [resultType=\"value\"]\n * @property {boolean} [flatten=false]\n * @property {boolean} [wrap=true]\n * @property {PlainObject} [sandbox={}]\n * @property {boolean} [preventEval=false]\n * @property {PlainObject|GenericArray|null} [parent=null]\n * @property {string|null} [parentProperty=null]\n * @property {JSONPathCallback} [callback]\n * @property {OtherTypeCallback} [otherTypeCallback] Defaults to\n *   function which throws on encountering `@other`\n * @property {boolean} [autostart=true]\n */\n\n/* eslint-enable max-len -- Can make multiline type after https://github.com/syavorsky/comment-parser/issues/109 */\n\n/**\n * @param {string|JSONPathOptions} opts If a string, will be treated as `expr`\n * @param {string} [expr] JSON path to evaluate\n * @param {JSON} [obj] JSON object to evaluate against\n * @param {JSONPathCallback} [callback] Passed 3 arguments: 1) desired payload\n *     per `resultType`, 2) `\"value\"|\"property\"`, 3) Full returned object with\n *     all payloads\n * @param {OtherTypeCallback} [otherTypeCallback] If `@other()` is at the end\n *   of one's query, this will be invoked with the value of the item, its\n *   path, its parent, and its parent's property name, and it should return\n *   a boolean indicating whether the supplied value belongs to the \"other\"\n *   type or not (or it may handle transformations and return `false`).\n * @returns {JSONPath}\n * @class\n */\n\nfunction JSONPath(opts, expr, obj, callback, otherTypeCallback) {\n  // eslint-disable-next-line no-restricted-syntax\n  if (!(this instanceof JSONPath)) {\n    try {\n      return new JSONPath(opts, expr, obj, callback, otherTypeCallback);\n    } catch (e) {\n      if (!e.avoidNew) {\n        throw e;\n      }\n      return e.value;\n    }\n  }\n  if (typeof opts === 'string') {\n    otherTypeCallback = callback;\n    callback = obj;\n    obj = expr;\n    expr = opts;\n    opts = null;\n  }\n  var optObj = opts && _typeof(opts) === 'object';\n  opts = opts || {};\n  this.json = opts.json || obj;\n  this.path = opts.path || expr;\n  this.resultType = opts.resultType || 'value';\n  this.flatten = opts.flatten || false;\n  this.wrap = hasOwnProp.call(opts, 'wrap') ? opts.wrap : true;\n  this.sandbox = opts.sandbox || {};\n  this.preventEval = opts.preventEval || false;\n  this.parent = opts.parent || null;\n  this.parentProperty = opts.parentProperty || null;\n  this.callback = opts.callback || callback || null;\n  this.otherTypeCallback = opts.otherTypeCallback || otherTypeCallback || function () {\n    throw new TypeError('You must supply an otherTypeCallback callback option ' + 'with the @other() operator.');\n  };\n  if (opts.autostart !== false) {\n    var args = {\n      path: optObj ? opts.path : expr\n    };\n    if (!optObj) {\n      args.json = obj;\n    } else if ('json' in opts) {\n      args.json = opts.json;\n    }\n    var ret = this.evaluate(args);\n    if (!ret || _typeof(ret) !== 'object') {\n      throw new NewError(ret);\n    }\n    return ret;\n  }\n} // PUBLIC METHODS\n\nJSONPath.prototype.evaluate = function (expr, json, callback, otherTypeCallback) {\n  var _this2 = this;\n  var currParent = this.parent,\n    currParentProperty = this.parentProperty;\n  var flatten = this.flatten,\n    wrap = this.wrap;\n  this.currResultType = this.resultType;\n  this.currPreventEval = this.preventEval;\n  this.currSandbox = this.sandbox;\n  callback = callback || this.callback;\n  this.currOtherTypeCallback = otherTypeCallback || this.otherTypeCallback;\n  json = json || this.json;\n  expr = expr || this.path;\n  if (expr && _typeof(expr) === 'object' && !Array.isArray(expr)) {\n    if (!expr.path && expr.path !== '') {\n      throw new TypeError('You must supply a \"path\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n    if (!hasOwnProp.call(expr, 'json')) {\n      throw new TypeError('You must supply a \"json\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n    var _expr = expr;\n    json = _expr.json;\n    flatten = hasOwnProp.call(expr, 'flatten') ? expr.flatten : flatten;\n    this.currResultType = hasOwnProp.call(expr, 'resultType') ? expr.resultType : this.currResultType;\n    this.currSandbox = hasOwnProp.call(expr, 'sandbox') ? expr.sandbox : this.currSandbox;\n    wrap = hasOwnProp.call(expr, 'wrap') ? expr.wrap : wrap;\n    this.currPreventEval = hasOwnProp.call(expr, 'preventEval') ? expr.preventEval : this.currPreventEval;\n    callback = hasOwnProp.call(expr, 'callback') ? expr.callback : callback;\n    this.currOtherTypeCallback = hasOwnProp.call(expr, 'otherTypeCallback') ? expr.otherTypeCallback : this.currOtherTypeCallback;\n    currParent = hasOwnProp.call(expr, 'parent') ? expr.parent : currParent;\n    currParentProperty = hasOwnProp.call(expr, 'parentProperty') ? expr.parentProperty : currParentProperty;\n    expr = expr.path;\n  }\n  currParent = currParent || null;\n  currParentProperty = currParentProperty || null;\n  if (Array.isArray(expr)) {\n    expr = JSONPath.toPathString(expr);\n  }\n  if (!expr && expr !== '' || !json) {\n    return undefined;\n  }\n  var exprList = JSONPath.toPathArray(expr);\n  if (exprList[0] === '$' && exprList.length > 1) {\n    exprList.shift();\n  }\n  this._hasParentSelector = null;\n  var result = this._trace(exprList, json, ['$'], currParent, currParentProperty, callback).filter(function (ea) {\n    return ea && !ea.isParentSelector;\n  });\n  if (!result.length) {\n    return wrap ? [] : undefined;\n  }\n  if (!wrap && result.length === 1 && !result[0].hasArrExpr) {\n    return this._getPreferredOutput(result[0]);\n  }\n  return result.reduce(function (rslt, ea) {\n    var valOrPath = _this2._getPreferredOutput(ea);\n    if (flatten && Array.isArray(valOrPath)) {\n      rslt = rslt.concat(valOrPath);\n    } else {\n      rslt.push(valOrPath);\n    }\n    return rslt;\n  }, []);\n}; // PRIVATE METHODS\n\nJSONPath.prototype._getPreferredOutput = function (ea) {\n  var resultType = this.currResultType;\n  switch (resultType) {\n    case 'all':\n      {\n        var path = Array.isArray(ea.path) ? ea.path : JSONPath.toPathArray(ea.path);\n        ea.pointer = JSONPath.toPointer(path);\n        ea.path = typeof ea.path === 'string' ? ea.path : JSONPath.toPathString(ea.path);\n        return ea;\n      }\n    case 'value':\n    case 'parent':\n    case 'parentProperty':\n      return ea[resultType];\n    case 'path':\n      return JSONPath.toPathString(ea[resultType]);\n    case 'pointer':\n      return JSONPath.toPointer(ea.path);\n    default:\n      throw new TypeError('Unknown result type');\n  }\n};\nJSONPath.prototype._handleCallback = function (fullRetObj, callback, type) {\n  if (callback) {\n    var preferredOutput = this._getPreferredOutput(fullRetObj);\n    fullRetObj.path = typeof fullRetObj.path === 'string' ? fullRetObj.path : JSONPath.toPathString(fullRetObj.path); // eslint-disable-next-line node/callback-return\n\n    callback(preferredOutput, type, fullRetObj);\n  }\n};\n/**\n *\n * @param {string} expr\n * @param {JSONObject} val\n * @param {string} path\n * @param {PlainObject|GenericArray} parent\n * @param {string} parentPropName\n * @param {JSONPathCallback} callback\n * @param {boolean} hasArrExpr\n * @param {boolean} literalPriority\n * @returns {ReturnObject|ReturnObject[]}\n */\n\nJSONPath.prototype._trace = function (expr, val, path, parent, parentPropName, callback, hasArrExpr, literalPriority) {\n  var _this3 = this;\n\n  // No expr to follow? return path and value as the result of\n  //  this trace branch\n  var retObj;\n  if (!expr.length) {\n    retObj = {\n      path: path,\n      value: val,\n      parent: parent,\n      parentProperty: parentPropName,\n      hasArrExpr: hasArrExpr\n    };\n    this._handleCallback(retObj, callback, 'value');\n    return retObj;\n  }\n  var loc = expr[0],\n    x = expr.slice(1); // We need to gather the return value of recursive trace calls in order to\n  // do the parent sel computation.\n\n  var ret = [];\n  /**\n   *\n   * @param {ReturnObject|ReturnObject[]} elems\n   * @returns {void}\n   */\n\n  function addRet(elems) {\n    if (Array.isArray(elems)) {\n      // This was causing excessive stack size in Node (with or\n      //  without Babel) against our performance test:\n      //  `ret.push(...elems);`\n      elems.forEach(function (t) {\n        ret.push(t);\n      });\n    } else {\n      ret.push(elems);\n    }\n  }\n  if ((typeof loc !== 'string' || literalPriority) && val && hasOwnProp.call(val, loc)) {\n    // simple case--directly follow property\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr)); // eslint-disable-next-line unicorn/prefer-switch -- Part of larger `if`\n  } else if (loc === '*') {\n    // all child properties\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      addRet(_this3._trace(unshift(m, _x), v, p, par, pr, cb, true, true));\n    });\n  } else if (loc === '..') {\n    // all descendent parent properties\n    // Check remaining expression with val's immediate children\n    addRet(this._trace(x, val, path, parent, parentPropName, callback, hasArrExpr));\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      // We don't join m and x here because we only want parents,\n      //   not scalar values\n      if (_typeof(v[m]) === 'object') {\n        // Keep going with recursive descent on val's\n        //   object children\n        addRet(_this3._trace(unshift(l, _x), v[m], push(p, m), v, m, cb, true));\n      }\n    }); // The parent sel computation is handled in the frame above using the\n    // ancestor object of val\n  } else if (loc === '^') {\n    // This is not a final endpoint, so we do not invoke the callback here\n    this._hasParentSelector = true;\n    return {\n      path: path.slice(0, -1),\n      expr: x,\n      isParentSelector: true\n    };\n  } else if (loc === '~') {\n    // property name\n    retObj = {\n      path: push(path, loc),\n      value: parentPropName,\n      parent: parent,\n      parentProperty: null\n    };\n    this._handleCallback(retObj, callback, 'property');\n    return retObj;\n  } else if (loc === '$') {\n    // root only\n    addRet(this._trace(x, val, path, null, null, callback, hasArrExpr));\n  } else if (/^(\\x2D?[0-9]*):(\\x2D?[0-9]*):?([0-9]*)$/.test(loc)) {\n    // [start:end:step]  Python slice syntax\n    addRet(this._slice(loc, x, val, path, parent, parentPropName, callback));\n  } else if (loc.indexOf('?(') === 0) {\n    // [?(expr)] (filtering)\n    if (this.currPreventEval) {\n      throw new Error('Eval [?(expr)] prevented in JSONPath expression.');\n    }\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      if (_this3._eval(l.replace(/^\\?\\(((?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?)\\)$/, '$1'), v[m], m, p, par, pr)) {\n        addRet(_this3._trace(unshift(m, _x), v, p, par, pr, cb, true));\n      }\n    });\n  } else if (loc[0] === '(') {\n    // [(expr)] (dynamic property/index)\n    if (this.currPreventEval) {\n      throw new Error('Eval [(expr)] prevented in JSONPath expression.');\n    } // As this will resolve to a property name (but we don't know it\n    //  yet), property and parent information is relative to the\n    //  parent of the property to which this expression will resolve\n\n    addRet(this._trace(unshift(this._eval(loc, val, path[path.length - 1], path.slice(0, -1), parent, parentPropName), x), val, path, parent, parentPropName, callback, hasArrExpr));\n  } else if (loc[0] === '@') {\n    // value type: @boolean(), etc.\n    var addType = false;\n    var valueType = loc.slice(1, -2);\n    switch (valueType) {\n      case 'scalar':\n        if (!val || !['object', 'function'].includes(_typeof(val))) {\n          addType = true;\n        }\n        break;\n      case 'boolean':\n      case 'string':\n      case 'undefined':\n      case 'function':\n        // eslint-disable-next-line valid-typeof\n        if (_typeof(val) === valueType) {\n          addType = true;\n        }\n        break;\n      case 'integer':\n        if (Number.isFinite(val) && !(val % 1)) {\n          addType = true;\n        }\n        break;\n      case 'number':\n        if (Number.isFinite(val)) {\n          addType = true;\n        }\n        break;\n      case 'nonFinite':\n        if (typeof val === 'number' && !Number.isFinite(val)) {\n          addType = true;\n        }\n        break;\n      case 'object':\n        // eslint-disable-next-line valid-typeof\n        if (val && _typeof(val) === valueType) {\n          addType = true;\n        }\n        break;\n      case 'array':\n        if (Array.isArray(val)) {\n          addType = true;\n        }\n        break;\n      case 'other':\n        addType = this.currOtherTypeCallback(val, path, parent, parentPropName);\n        break;\n      case 'null':\n        if (val === null) {\n          addType = true;\n        }\n        break;\n\n      /* c8 ignore next 2 */\n\n      default:\n        throw new TypeError('Unknown value type ' + valueType);\n    }\n    if (addType) {\n      retObj = {\n        path: path,\n        value: val,\n        parent: parent,\n        parentProperty: parentPropName\n      };\n      this._handleCallback(retObj, callback, 'value');\n      return retObj;\n    } // `-escaped property\n  } else if (loc[0] === '`' && val && hasOwnProp.call(val, loc.slice(1))) {\n    var locProp = loc.slice(1);\n    addRet(this._trace(x, val[locProp], push(path, locProp), val, locProp, callback, hasArrExpr, true));\n  } else if (loc.includes(',')) {\n    // [name1,name2,...]\n    var parts = loc.split(',');\n    var _iterator = _createForOfIteratorHelper(parts),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var part = _step.value;\n        addRet(this._trace(unshift(part, x), val, path, parent, parentPropName, callback, true));\n      } // simple case--directly follow property\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else if (!literalPriority && val && hasOwnProp.call(val, loc)) {\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr, true));\n  } // We check the resulting values for parent selections. For parent\n  // selections we discard the value object and continue the trace with the\n  // current val object\n\n  if (this._hasParentSelector) {\n    for (var t = 0; t < ret.length; t++) {\n      var rett = ret[t];\n      if (rett && rett.isParentSelector) {\n        var tmp = this._trace(rett.expr, val, rett.path, parent, parentPropName, callback, hasArrExpr);\n        if (Array.isArray(tmp)) {\n          ret[t] = tmp[0];\n          var tl = tmp.length;\n          for (var tt = 1; tt < tl; tt++) {\n            t++;\n            ret.splice(t, 0, tmp[tt]);\n          }\n        } else {\n          ret[t] = tmp;\n        }\n      }\n    }\n  }\n  return ret;\n};\nJSONPath.prototype._walk = function (loc, expr, val, path, parent, parentPropName, callback, f) {\n  if (Array.isArray(val)) {\n    var n = val.length;\n    for (var i = 0; i < n; i++) {\n      f(i, loc, expr, val, path, parent, parentPropName, callback);\n    }\n  } else if (val && _typeof(val) === 'object') {\n    Object.keys(val).forEach(function (m) {\n      f(m, loc, expr, val, path, parent, parentPropName, callback);\n    });\n  }\n};\nJSONPath.prototype._slice = function (loc, expr, val, path, parent, parentPropName, callback) {\n  if (!Array.isArray(val)) {\n    return undefined;\n  }\n  var len = val.length,\n    parts = loc.split(':'),\n    step = parts[2] && Number.parseInt(parts[2]) || 1;\n  var start = parts[0] && Number.parseInt(parts[0]) || 0,\n    end = parts[1] && Number.parseInt(parts[1]) || len;\n  start = start < 0 ? Math.max(0, start + len) : Math.min(len, start);\n  end = end < 0 ? Math.max(0, end + len) : Math.min(len, end);\n  var ret = [];\n  for (var i = start; i < end; i += step) {\n    var tmp = this._trace(unshift(i, expr), val, path, parent, parentPropName, callback, true); // Should only be possible to be an array here since first part of\n    //   ``unshift(i, expr)` passed in above would not be empty, nor `~`,\n    //     nor begin with `@` (as could return objects)\n    // This was causing excessive stack size in Node (with or\n    //  without Babel) against our performance test: `ret.push(...tmp);`\n\n    tmp.forEach(function (t) {\n      ret.push(t);\n    });\n  }\n  return ret;\n};\nJSONPath.prototype._eval = function (code, _v, _vname, path, parent, parentPropName) {\n  if (code.includes('@parentProperty')) {\n    this.currSandbox._$_parentProperty = parentPropName;\n    code = code.replace(/@parentProperty/g, '_$_parentProperty');\n  }\n  if (code.includes('@parent')) {\n    this.currSandbox._$_parent = parent;\n    code = code.replace(/@parent/g, '_$_parent');\n  }\n  if (code.includes('@property')) {\n    this.currSandbox._$_property = _vname;\n    code = code.replace(/@property/g, '_$_property');\n  }\n  if (code.includes('@path')) {\n    this.currSandbox._$_path = JSONPath.toPathString(path.concat([_vname]));\n    code = code.replace(/@path/g, '_$_path');\n  }\n  if (code.includes('@root')) {\n    this.currSandbox._$_root = this.json;\n    code = code.replace(/@root/g, '_$_root');\n  }\n  if (/@([\\t-\\r \\)\\.\\[\\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF])/.test(code)) {\n    this.currSandbox._$_v = _v;\n    code = code.replace(/@([\\t-\\r \\)\\.\\[\\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF])/g, '_$_v$1');\n  }\n  try {\n    return this.vm.runInNewContext(code, this.currSandbox);\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.log(e);\n    throw new Error('jsonPath: ' + e.message + ': ' + code);\n  }\n}; // PUBLIC CLASS PROPERTIES AND METHODS\n// Could store the cache object itself\n\nJSONPath.cache = {};\n/**\n * @param {string[]} pathArr Array to convert\n * @returns {string} The path string\n */\n\nJSONPath.toPathString = function (pathArr) {\n  var x = pathArr,\n    n = x.length;\n  var p = '$';\n  for (var i = 1; i < n; i++) {\n    if (!/^(~|\\^|@(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\(\\))$/.test(x[i])) {\n      p += /^[\\*0-9]+$/.test(x[i]) ? '[' + x[i] + ']' : \"['\" + x[i] + \"']\";\n    }\n  }\n  return p;\n};\n/**\n * @param {string} pointer JSON Path\n * @returns {string} JSON Pointer\n */\n\nJSONPath.toPointer = function (pointer) {\n  var x = pointer,\n    n = x.length;\n  var p = '';\n  for (var i = 1; i < n; i++) {\n    if (!/^(~|\\^|@(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\(\\))$/.test(x[i])) {\n      p += '/' + x[i].toString().replace(/~/g, '~0').replace(/\\//g, '~1');\n    }\n  }\n  return p;\n};\n/**\n * @param {string} expr Expression to convert\n * @returns {string[]}\n */\n\nJSONPath.toPathArray = function (expr) {\n  var cache = JSONPath.cache;\n  if (cache[expr]) {\n    return cache[expr].concat();\n  }\n  var subx = [];\n  var normalized = expr // Properties\n  .replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\\(\\)/g, ';$&;') // Parenthetical evaluations (filtering and otherwise), directly\n  //   within brackets or single quotes\n  .replace(/['\\[](\\??\\((?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\))['\\]]/g, function ($0, $1) {\n    return '[#' + (subx.push($1) - 1) + ']';\n  }) // Escape periods and tildes within properties\n  .replace(/\\[[\"']((?:(?!['\\]])[\\s\\S])*)[\"']\\]/g, function ($0, prop) {\n    return \"['\" + prop.replace(/\\./g, '%@%').replace(/~/g, '%%@@%%') + \"']\";\n  }) // Properties operator\n  .replace(/~/g, ';~;') // Split by property boundaries\n  .replace(/[\"']?\\.[\"']?(?!(?:(?!\\[)[\\s\\S])*\\])|\\[[\"']?/g, ';') // Reinsert periods within properties\n  .replace(/%@%/g, '.') // Reinsert tildes within properties\n  .replace(/%%@@%%/g, '~') // Parent\n  .replace(/(?:;)?(\\^+)(?:;)?/g, function ($0, ups) {\n    return ';' + ups.split('').join(';') + ';';\n  }) // Descendents\n  .replace(/;;;|;;/g, ';..;') // Remove trailing\n  .replace(/;$|'?\\]|'$/g, '');\n  var exprList = normalized.split(';').map(function (exp) {\n    var match = exp.match(/#([0-9]+)/);\n    return !match || !match[1] ? exp : subx[match[1]];\n  });\n  cache[expr] = exprList;\n  return cache[expr].concat();\n};\n\n/**\n* @callback ConditionCallback\n* @param {any} item\n* @returns {boolean}\n*/\n\n/**\n * Copy items out of one array into another.\n * @param {GenericArray} source Array with items to copy\n * @param {GenericArray} target Array to which to copy\n * @param {ConditionCallback} conditionCb Callback passed the current item;\n *     will move item if evaluates to `true`\n * @returns {void}\n */\n\nvar moveToAnotherArray = function moveToAnotherArray(source, target, conditionCb) {\n  var il = source.length;\n  for (var i = 0; i < il; i++) {\n    var item = source[i];\n    if (conditionCb(item)) {\n      target.push(source.splice(i--, 1)[0]);\n    }\n  }\n};\nJSONPath.prototype.vm = {\n  /**\n   * @param {string} expr Expression to evaluate\n   * @param {PlainObject} context Object whose items will be added\n   *   to evaluation\n   * @returns {any} Result of evaluated code\n   */\n  runInNewContext: function runInNewContext(expr, context) {\n    var keys = Object.keys(context);\n    var funcs = [];\n    moveToAnotherArray(keys, funcs, function (key) {\n      return typeof context[key] === 'function';\n    });\n    var values = keys.map(function (vr, i) {\n      return context[vr];\n    });\n    var funcString = funcs.reduce(function (s, func) {\n      var fString = context[func].toString();\n      if (!/function/.test(fString)) {\n        fString = 'function ' + fString;\n      }\n      return 'var ' + func + '=' + fString + ';' + s;\n    }, '');\n    expr = funcString + expr; // Mitigate http://perfectionkills.com/global-eval-what-are-the-options/#new_function\n\n    if (!/([\"'])use strict\\1/.test(expr) && !keys.includes('arguments')) {\n      expr = 'var arguments = undefined;' + expr;\n    } // Remove last semi so `return` will be inserted before\n    //  the previous one instead, allowing for the return\n    //  of a bare ending expression\n\n    expr = expr.replace(/;[\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]*$/, ''); // Insert `return`\n\n    var lastStatementEnd = expr.lastIndexOf(';');\n    var code = lastStatementEnd > -1 ? expr.slice(0, lastStatementEnd + 1) + ' return ' + expr.slice(lastStatementEnd + 1) : ' return ' + expr; // eslint-disable-next-line no-new-func\n\n    return _construct(Function, _toConsumableArray(keys).concat([code])).apply(void 0, _toConsumableArray(values));\n  }\n};\nexport { JSONPath };","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","Object","create","value","writable","configurable","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","call","e","_construct","Parent","args","Class","a","push","apply","Function","bind","arguments","_isNativeFunction","fn","toString","indexOf","_wrapNativeSuper","_cache","Map","undefined","has","get","set","Wrapper","enumerable","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","isArray","_arrayLikeToArray","iter","from","minLen","n","slice","name","test","len","length","i","arr2","_createForOfIteratorHelper","allowArrayLike","it","F","s","done","f","normalCompletion","didErr","err","step","next","return","hasOwnProp","hasOwnProperty","item","unshift","NewError","_Error","_super","_this","avoidNew","Error","JSONPath","opts","expr","callback","otherTypeCallback","optObj","json","path","resultType","flatten","wrap","sandbox","preventEval","parent","parentProperty","autostart","ret","evaluate","_this2","currParent","currParentProperty","currResultType","currPreventEval","currSandbox","currOtherTypeCallback","_expr","toPathString","exprList","toPathArray","shift","_hasParentSelector","_trace","filter","ea","isParentSelector","hasArrExpr","_getPreferredOutput","reduce","rslt","valOrPath","concat","pointer","toPointer","_handleCallback","fullRetObj","type","preferredOutput","val","parentPropName","literalPriority","_this3","retObj","loc","x","addRet","elems","forEach","t","_walk","m","l","_x","v","par","pr","cb","_slice","_eval","replace","addType","valueType","includes","Number","isFinite","locProp","parts","split","_iterator","_step","part","rett","tmp","tl","tt","splice","keys","parseInt","start","end","Math","max","min","code","_v","_vname","_$_parentProperty","_$_parent","_$_property","_$_path","_$_root","_$_v","vm","runInNewContext","console","log","message","cache","pathArr","subx","normalized","$0","$1","prop","ups","join","map","exp","match","moveToAnotherArray","source","target","conditionCb","il","context","funcs","key","values","vr","funcString","func","fString","lastStatementEnd","lastIndexOf"],"sources":["C:/Users/frank/node_modules/jsonpath-plus/dist/index-browser-esm.js"],"sourcesContent":["function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nvar hasOwnProp = Object.prototype.hasOwnProperty;\n/**\n* @typedef {null|boolean|number|string|PlainObject|GenericArray} JSONObject\n*/\n\n/**\n * Copies array and then pushes item into it.\n * @param {GenericArray} arr Array to copy and into which to push\n * @param {any} item Array item to add (to end)\n * @returns {GenericArray} Copy of the original array\n */\n\nfunction push(arr, item) {\n  arr = arr.slice();\n  arr.push(item);\n  return arr;\n}\n/**\n * Copies array and then unshifts item into it.\n * @param {any} item Array item to add (to beginning)\n * @param {GenericArray} arr Array to copy and into which to unshift\n * @returns {GenericArray} Copy of the original array\n */\n\n\nfunction unshift(item, arr) {\n  arr = arr.slice();\n  arr.unshift(item);\n  return arr;\n}\n/**\n * Caught when JSONPath is used without `new` but rethrown if with `new`\n * @extends Error\n */\n\n\nvar NewError = /*#__PURE__*/function (_Error) {\n  _inherits(NewError, _Error);\n\n  var _super = _createSuper(NewError);\n\n  /**\n   * @param {any} value The evaluated scalar value\n   */\n  function NewError(value) {\n    var _this;\n\n    _classCallCheck(this, NewError);\n\n    _this = _super.call(this, 'JSONPath should not be called with \"new\" (it prevents return ' + 'of (unwrapped) scalar values)');\n    _this.avoidNew = true;\n    _this.value = value;\n    _this.name = 'NewError';\n    return _this;\n  }\n\n  return NewError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n* @typedef {PlainObject} ReturnObject\n* @property {string} path\n* @property {JSONObject} value\n* @property {PlainObject|GenericArray} parent\n* @property {string} parentProperty\n*/\n\n/**\n* @callback JSONPathCallback\n* @param {string|PlainObject} preferredOutput\n* @param {\"value\"|\"property\"} type\n* @param {ReturnObject} fullRetObj\n* @returns {void}\n*/\n\n/**\n* @callback OtherTypeCallback\n* @param {JSONObject} val\n* @param {string} path\n* @param {PlainObject|GenericArray} parent\n* @param {string} parentPropName\n* @returns {boolean}\n*/\n\n/* eslint-disable max-len -- Can make multiline type after https://github.com/syavorsky/comment-parser/issues/109 */\n\n/**\n * @typedef {PlainObject} JSONPathOptions\n * @property {JSON} json\n * @property {string|string[]} path\n * @property {\"value\"|\"path\"|\"pointer\"|\"parent\"|\"parentProperty\"|\"all\"} [resultType=\"value\"]\n * @property {boolean} [flatten=false]\n * @property {boolean} [wrap=true]\n * @property {PlainObject} [sandbox={}]\n * @property {boolean} [preventEval=false]\n * @property {PlainObject|GenericArray|null} [parent=null]\n * @property {string|null} [parentProperty=null]\n * @property {JSONPathCallback} [callback]\n * @property {OtherTypeCallback} [otherTypeCallback] Defaults to\n *   function which throws on encountering `@other`\n * @property {boolean} [autostart=true]\n */\n\n/* eslint-enable max-len -- Can make multiline type after https://github.com/syavorsky/comment-parser/issues/109 */\n\n/**\n * @param {string|JSONPathOptions} opts If a string, will be treated as `expr`\n * @param {string} [expr] JSON path to evaluate\n * @param {JSON} [obj] JSON object to evaluate against\n * @param {JSONPathCallback} [callback] Passed 3 arguments: 1) desired payload\n *     per `resultType`, 2) `\"value\"|\"property\"`, 3) Full returned object with\n *     all payloads\n * @param {OtherTypeCallback} [otherTypeCallback] If `@other()` is at the end\n *   of one's query, this will be invoked with the value of the item, its\n *   path, its parent, and its parent's property name, and it should return\n *   a boolean indicating whether the supplied value belongs to the \"other\"\n *   type or not (or it may handle transformations and return `false`).\n * @returns {JSONPath}\n * @class\n */\n\n\nfunction JSONPath(opts, expr, obj, callback, otherTypeCallback) {\n  // eslint-disable-next-line no-restricted-syntax\n  if (!(this instanceof JSONPath)) {\n    try {\n      return new JSONPath(opts, expr, obj, callback, otherTypeCallback);\n    } catch (e) {\n      if (!e.avoidNew) {\n        throw e;\n      }\n\n      return e.value;\n    }\n  }\n\n  if (typeof opts === 'string') {\n    otherTypeCallback = callback;\n    callback = obj;\n    obj = expr;\n    expr = opts;\n    opts = null;\n  }\n\n  var optObj = opts && _typeof(opts) === 'object';\n  opts = opts || {};\n  this.json = opts.json || obj;\n  this.path = opts.path || expr;\n  this.resultType = opts.resultType || 'value';\n  this.flatten = opts.flatten || false;\n  this.wrap = hasOwnProp.call(opts, 'wrap') ? opts.wrap : true;\n  this.sandbox = opts.sandbox || {};\n  this.preventEval = opts.preventEval || false;\n  this.parent = opts.parent || null;\n  this.parentProperty = opts.parentProperty || null;\n  this.callback = opts.callback || callback || null;\n\n  this.otherTypeCallback = opts.otherTypeCallback || otherTypeCallback || function () {\n    throw new TypeError('You must supply an otherTypeCallback callback option ' + 'with the @other() operator.');\n  };\n\n  if (opts.autostart !== false) {\n    var args = {\n      path: optObj ? opts.path : expr\n    };\n\n    if (!optObj) {\n      args.json = obj;\n    } else if ('json' in opts) {\n      args.json = opts.json;\n    }\n\n    var ret = this.evaluate(args);\n\n    if (!ret || _typeof(ret) !== 'object') {\n      throw new NewError(ret);\n    }\n\n    return ret;\n  }\n} // PUBLIC METHODS\n\n\nJSONPath.prototype.evaluate = function (expr, json, callback, otherTypeCallback) {\n  var _this2 = this;\n\n  var currParent = this.parent,\n      currParentProperty = this.parentProperty;\n  var flatten = this.flatten,\n      wrap = this.wrap;\n  this.currResultType = this.resultType;\n  this.currPreventEval = this.preventEval;\n  this.currSandbox = this.sandbox;\n  callback = callback || this.callback;\n  this.currOtherTypeCallback = otherTypeCallback || this.otherTypeCallback;\n  json = json || this.json;\n  expr = expr || this.path;\n\n  if (expr && _typeof(expr) === 'object' && !Array.isArray(expr)) {\n    if (!expr.path && expr.path !== '') {\n      throw new TypeError('You must supply a \"path\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n\n    if (!hasOwnProp.call(expr, 'json')) {\n      throw new TypeError('You must supply a \"json\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n\n    var _expr = expr;\n    json = _expr.json;\n    flatten = hasOwnProp.call(expr, 'flatten') ? expr.flatten : flatten;\n    this.currResultType = hasOwnProp.call(expr, 'resultType') ? expr.resultType : this.currResultType;\n    this.currSandbox = hasOwnProp.call(expr, 'sandbox') ? expr.sandbox : this.currSandbox;\n    wrap = hasOwnProp.call(expr, 'wrap') ? expr.wrap : wrap;\n    this.currPreventEval = hasOwnProp.call(expr, 'preventEval') ? expr.preventEval : this.currPreventEval;\n    callback = hasOwnProp.call(expr, 'callback') ? expr.callback : callback;\n    this.currOtherTypeCallback = hasOwnProp.call(expr, 'otherTypeCallback') ? expr.otherTypeCallback : this.currOtherTypeCallback;\n    currParent = hasOwnProp.call(expr, 'parent') ? expr.parent : currParent;\n    currParentProperty = hasOwnProp.call(expr, 'parentProperty') ? expr.parentProperty : currParentProperty;\n    expr = expr.path;\n  }\n\n  currParent = currParent || null;\n  currParentProperty = currParentProperty || null;\n\n  if (Array.isArray(expr)) {\n    expr = JSONPath.toPathString(expr);\n  }\n\n  if (!expr && expr !== '' || !json) {\n    return undefined;\n  }\n\n  var exprList = JSONPath.toPathArray(expr);\n\n  if (exprList[0] === '$' && exprList.length > 1) {\n    exprList.shift();\n  }\n\n  this._hasParentSelector = null;\n\n  var result = this._trace(exprList, json, ['$'], currParent, currParentProperty, callback).filter(function (ea) {\n    return ea && !ea.isParentSelector;\n  });\n\n  if (!result.length) {\n    return wrap ? [] : undefined;\n  }\n\n  if (!wrap && result.length === 1 && !result[0].hasArrExpr) {\n    return this._getPreferredOutput(result[0]);\n  }\n\n  return result.reduce(function (rslt, ea) {\n    var valOrPath = _this2._getPreferredOutput(ea);\n\n    if (flatten && Array.isArray(valOrPath)) {\n      rslt = rslt.concat(valOrPath);\n    } else {\n      rslt.push(valOrPath);\n    }\n\n    return rslt;\n  }, []);\n}; // PRIVATE METHODS\n\n\nJSONPath.prototype._getPreferredOutput = function (ea) {\n  var resultType = this.currResultType;\n\n  switch (resultType) {\n    case 'all':\n      {\n        var path = Array.isArray(ea.path) ? ea.path : JSONPath.toPathArray(ea.path);\n        ea.pointer = JSONPath.toPointer(path);\n        ea.path = typeof ea.path === 'string' ? ea.path : JSONPath.toPathString(ea.path);\n        return ea;\n      }\n\n    case 'value':\n    case 'parent':\n    case 'parentProperty':\n      return ea[resultType];\n\n    case 'path':\n      return JSONPath.toPathString(ea[resultType]);\n\n    case 'pointer':\n      return JSONPath.toPointer(ea.path);\n\n    default:\n      throw new TypeError('Unknown result type');\n  }\n};\n\nJSONPath.prototype._handleCallback = function (fullRetObj, callback, type) {\n  if (callback) {\n    var preferredOutput = this._getPreferredOutput(fullRetObj);\n\n    fullRetObj.path = typeof fullRetObj.path === 'string' ? fullRetObj.path : JSONPath.toPathString(fullRetObj.path); // eslint-disable-next-line node/callback-return\n\n    callback(preferredOutput, type, fullRetObj);\n  }\n};\n/**\n *\n * @param {string} expr\n * @param {JSONObject} val\n * @param {string} path\n * @param {PlainObject|GenericArray} parent\n * @param {string} parentPropName\n * @param {JSONPathCallback} callback\n * @param {boolean} hasArrExpr\n * @param {boolean} literalPriority\n * @returns {ReturnObject|ReturnObject[]}\n */\n\n\nJSONPath.prototype._trace = function (expr, val, path, parent, parentPropName, callback, hasArrExpr, literalPriority) {\n  var _this3 = this;\n\n  // No expr to follow? return path and value as the result of\n  //  this trace branch\n  var retObj;\n\n  if (!expr.length) {\n    retObj = {\n      path: path,\n      value: val,\n      parent: parent,\n      parentProperty: parentPropName,\n      hasArrExpr: hasArrExpr\n    };\n\n    this._handleCallback(retObj, callback, 'value');\n\n    return retObj;\n  }\n\n  var loc = expr[0],\n      x = expr.slice(1); // We need to gather the return value of recursive trace calls in order to\n  // do the parent sel computation.\n\n  var ret = [];\n  /**\n   *\n   * @param {ReturnObject|ReturnObject[]} elems\n   * @returns {void}\n   */\n\n  function addRet(elems) {\n    if (Array.isArray(elems)) {\n      // This was causing excessive stack size in Node (with or\n      //  without Babel) against our performance test:\n      //  `ret.push(...elems);`\n      elems.forEach(function (t) {\n        ret.push(t);\n      });\n    } else {\n      ret.push(elems);\n    }\n  }\n\n  if ((typeof loc !== 'string' || literalPriority) && val && hasOwnProp.call(val, loc)) {\n    // simple case--directly follow property\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr)); // eslint-disable-next-line unicorn/prefer-switch -- Part of larger `if`\n  } else if (loc === '*') {\n    // all child properties\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      addRet(_this3._trace(unshift(m, _x), v, p, par, pr, cb, true, true));\n    });\n  } else if (loc === '..') {\n    // all descendent parent properties\n    // Check remaining expression with val's immediate children\n    addRet(this._trace(x, val, path, parent, parentPropName, callback, hasArrExpr));\n\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      // We don't join m and x here because we only want parents,\n      //   not scalar values\n      if (_typeof(v[m]) === 'object') {\n        // Keep going with recursive descent on val's\n        //   object children\n        addRet(_this3._trace(unshift(l, _x), v[m], push(p, m), v, m, cb, true));\n      }\n    }); // The parent sel computation is handled in the frame above using the\n    // ancestor object of val\n\n  } else if (loc === '^') {\n    // This is not a final endpoint, so we do not invoke the callback here\n    this._hasParentSelector = true;\n    return {\n      path: path.slice(0, -1),\n      expr: x,\n      isParentSelector: true\n    };\n  } else if (loc === '~') {\n    // property name\n    retObj = {\n      path: push(path, loc),\n      value: parentPropName,\n      parent: parent,\n      parentProperty: null\n    };\n\n    this._handleCallback(retObj, callback, 'property');\n\n    return retObj;\n  } else if (loc === '$') {\n    // root only\n    addRet(this._trace(x, val, path, null, null, callback, hasArrExpr));\n  } else if (/^(\\x2D?[0-9]*):(\\x2D?[0-9]*):?([0-9]*)$/.test(loc)) {\n    // [start:end:step]  Python slice syntax\n    addRet(this._slice(loc, x, val, path, parent, parentPropName, callback));\n  } else if (loc.indexOf('?(') === 0) {\n    // [?(expr)] (filtering)\n    if (this.currPreventEval) {\n      throw new Error('Eval [?(expr)] prevented in JSONPath expression.');\n    }\n\n    this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, _x, v, p, par, pr, cb) {\n      if (_this3._eval(l.replace(/^\\?\\(((?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?)\\)$/, '$1'), v[m], m, p, par, pr)) {\n        addRet(_this3._trace(unshift(m, _x), v, p, par, pr, cb, true));\n      }\n    });\n  } else if (loc[0] === '(') {\n    // [(expr)] (dynamic property/index)\n    if (this.currPreventEval) {\n      throw new Error('Eval [(expr)] prevented in JSONPath expression.');\n    } // As this will resolve to a property name (but we don't know it\n    //  yet), property and parent information is relative to the\n    //  parent of the property to which this expression will resolve\n\n\n    addRet(this._trace(unshift(this._eval(loc, val, path[path.length - 1], path.slice(0, -1), parent, parentPropName), x), val, path, parent, parentPropName, callback, hasArrExpr));\n  } else if (loc[0] === '@') {\n    // value type: @boolean(), etc.\n    var addType = false;\n    var valueType = loc.slice(1, -2);\n\n    switch (valueType) {\n      case 'scalar':\n        if (!val || !['object', 'function'].includes(_typeof(val))) {\n          addType = true;\n        }\n\n        break;\n\n      case 'boolean':\n      case 'string':\n      case 'undefined':\n      case 'function':\n        // eslint-disable-next-line valid-typeof\n        if (_typeof(val) === valueType) {\n          addType = true;\n        }\n\n        break;\n\n      case 'integer':\n        if (Number.isFinite(val) && !(val % 1)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'number':\n        if (Number.isFinite(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'nonFinite':\n        if (typeof val === 'number' && !Number.isFinite(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'object':\n        // eslint-disable-next-line valid-typeof\n        if (val && _typeof(val) === valueType) {\n          addType = true;\n        }\n\n        break;\n\n      case 'array':\n        if (Array.isArray(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'other':\n        addType = this.currOtherTypeCallback(val, path, parent, parentPropName);\n        break;\n\n      case 'null':\n        if (val === null) {\n          addType = true;\n        }\n\n        break;\n\n      /* c8 ignore next 2 */\n\n      default:\n        throw new TypeError('Unknown value type ' + valueType);\n    }\n\n    if (addType) {\n      retObj = {\n        path: path,\n        value: val,\n        parent: parent,\n        parentProperty: parentPropName\n      };\n\n      this._handleCallback(retObj, callback, 'value');\n\n      return retObj;\n    } // `-escaped property\n\n  } else if (loc[0] === '`' && val && hasOwnProp.call(val, loc.slice(1))) {\n    var locProp = loc.slice(1);\n    addRet(this._trace(x, val[locProp], push(path, locProp), val, locProp, callback, hasArrExpr, true));\n  } else if (loc.includes(',')) {\n    // [name1,name2,...]\n    var parts = loc.split(',');\n\n    var _iterator = _createForOfIteratorHelper(parts),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var part = _step.value;\n        addRet(this._trace(unshift(part, x), val, path, parent, parentPropName, callback, true));\n      } // simple case--directly follow property\n\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else if (!literalPriority && val && hasOwnProp.call(val, loc)) {\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr, true));\n  } // We check the resulting values for parent selections. For parent\n  // selections we discard the value object and continue the trace with the\n  // current val object\n\n\n  if (this._hasParentSelector) {\n    for (var t = 0; t < ret.length; t++) {\n      var rett = ret[t];\n\n      if (rett && rett.isParentSelector) {\n        var tmp = this._trace(rett.expr, val, rett.path, parent, parentPropName, callback, hasArrExpr);\n\n        if (Array.isArray(tmp)) {\n          ret[t] = tmp[0];\n          var tl = tmp.length;\n\n          for (var tt = 1; tt < tl; tt++) {\n            t++;\n            ret.splice(t, 0, tmp[tt]);\n          }\n        } else {\n          ret[t] = tmp;\n        }\n      }\n    }\n  }\n\n  return ret;\n};\n\nJSONPath.prototype._walk = function (loc, expr, val, path, parent, parentPropName, callback, f) {\n  if (Array.isArray(val)) {\n    var n = val.length;\n\n    for (var i = 0; i < n; i++) {\n      f(i, loc, expr, val, path, parent, parentPropName, callback);\n    }\n  } else if (val && _typeof(val) === 'object') {\n    Object.keys(val).forEach(function (m) {\n      f(m, loc, expr, val, path, parent, parentPropName, callback);\n    });\n  }\n};\n\nJSONPath.prototype._slice = function (loc, expr, val, path, parent, parentPropName, callback) {\n  if (!Array.isArray(val)) {\n    return undefined;\n  }\n\n  var len = val.length,\n      parts = loc.split(':'),\n      step = parts[2] && Number.parseInt(parts[2]) || 1;\n  var start = parts[0] && Number.parseInt(parts[0]) || 0,\n      end = parts[1] && Number.parseInt(parts[1]) || len;\n  start = start < 0 ? Math.max(0, start + len) : Math.min(len, start);\n  end = end < 0 ? Math.max(0, end + len) : Math.min(len, end);\n  var ret = [];\n\n  for (var i = start; i < end; i += step) {\n    var tmp = this._trace(unshift(i, expr), val, path, parent, parentPropName, callback, true); // Should only be possible to be an array here since first part of\n    //   ``unshift(i, expr)` passed in above would not be empty, nor `~`,\n    //     nor begin with `@` (as could return objects)\n    // This was causing excessive stack size in Node (with or\n    //  without Babel) against our performance test: `ret.push(...tmp);`\n\n\n    tmp.forEach(function (t) {\n      ret.push(t);\n    });\n  }\n\n  return ret;\n};\n\nJSONPath.prototype._eval = function (code, _v, _vname, path, parent, parentPropName) {\n  if (code.includes('@parentProperty')) {\n    this.currSandbox._$_parentProperty = parentPropName;\n    code = code.replace(/@parentProperty/g, '_$_parentProperty');\n  }\n\n  if (code.includes('@parent')) {\n    this.currSandbox._$_parent = parent;\n    code = code.replace(/@parent/g, '_$_parent');\n  }\n\n  if (code.includes('@property')) {\n    this.currSandbox._$_property = _vname;\n    code = code.replace(/@property/g, '_$_property');\n  }\n\n  if (code.includes('@path')) {\n    this.currSandbox._$_path = JSONPath.toPathString(path.concat([_vname]));\n    code = code.replace(/@path/g, '_$_path');\n  }\n\n  if (code.includes('@root')) {\n    this.currSandbox._$_root = this.json;\n    code = code.replace(/@root/g, '_$_root');\n  }\n\n  if (/@([\\t-\\r \\)\\.\\[\\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF])/.test(code)) {\n    this.currSandbox._$_v = _v;\n    code = code.replace(/@([\\t-\\r \\)\\.\\[\\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF])/g, '_$_v$1');\n  }\n\n  try {\n    return this.vm.runInNewContext(code, this.currSandbox);\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.log(e);\n    throw new Error('jsonPath: ' + e.message + ': ' + code);\n  }\n}; // PUBLIC CLASS PROPERTIES AND METHODS\n// Could store the cache object itself\n\n\nJSONPath.cache = {};\n/**\n * @param {string[]} pathArr Array to convert\n * @returns {string} The path string\n */\n\nJSONPath.toPathString = function (pathArr) {\n  var x = pathArr,\n      n = x.length;\n  var p = '$';\n\n  for (var i = 1; i < n; i++) {\n    if (!/^(~|\\^|@(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\(\\))$/.test(x[i])) {\n      p += /^[\\*0-9]+$/.test(x[i]) ? '[' + x[i] + ']' : \"['\" + x[i] + \"']\";\n    }\n  }\n\n  return p;\n};\n/**\n * @param {string} pointer JSON Path\n * @returns {string} JSON Pointer\n */\n\n\nJSONPath.toPointer = function (pointer) {\n  var x = pointer,\n      n = x.length;\n  var p = '';\n\n  for (var i = 1; i < n; i++) {\n    if (!/^(~|\\^|@(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\(\\))$/.test(x[i])) {\n      p += '/' + x[i].toString().replace(/~/g, '~0').replace(/\\//g, '~1');\n    }\n  }\n\n  return p;\n};\n/**\n * @param {string} expr Expression to convert\n * @returns {string[]}\n */\n\n\nJSONPath.toPathArray = function (expr) {\n  var cache = JSONPath.cache;\n\n  if (cache[expr]) {\n    return cache[expr].concat();\n  }\n\n  var subx = [];\n  var normalized = expr // Properties\n  .replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\\(\\)/g, ';$&;') // Parenthetical evaluations (filtering and otherwise), directly\n  //   within brackets or single quotes\n  .replace(/['\\[](\\??\\((?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\))['\\]]/g, function ($0, $1) {\n    return '[#' + (subx.push($1) - 1) + ']';\n  }) // Escape periods and tildes within properties\n  .replace(/\\[[\"']((?:(?!['\\]])[\\s\\S])*)[\"']\\]/g, function ($0, prop) {\n    return \"['\" + prop.replace(/\\./g, '%@%').replace(/~/g, '%%@@%%') + \"']\";\n  }) // Properties operator\n  .replace(/~/g, ';~;') // Split by property boundaries\n  .replace(/[\"']?\\.[\"']?(?!(?:(?!\\[)[\\s\\S])*\\])|\\[[\"']?/g, ';') // Reinsert periods within properties\n  .replace(/%@%/g, '.') // Reinsert tildes within properties\n  .replace(/%%@@%%/g, '~') // Parent\n  .replace(/(?:;)?(\\^+)(?:;)?/g, function ($0, ups) {\n    return ';' + ups.split('').join(';') + ';';\n  }) // Descendents\n  .replace(/;;;|;;/g, ';..;') // Remove trailing\n  .replace(/;$|'?\\]|'$/g, '');\n  var exprList = normalized.split(';').map(function (exp) {\n    var match = exp.match(/#([0-9]+)/);\n    return !match || !match[1] ? exp : subx[match[1]];\n  });\n  cache[expr] = exprList;\n  return cache[expr].concat();\n};\n\n/**\n* @callback ConditionCallback\n* @param {any} item\n* @returns {boolean}\n*/\n\n/**\n * Copy items out of one array into another.\n * @param {GenericArray} source Array with items to copy\n * @param {GenericArray} target Array to which to copy\n * @param {ConditionCallback} conditionCb Callback passed the current item;\n *     will move item if evaluates to `true`\n * @returns {void}\n */\n\nvar moveToAnotherArray = function moveToAnotherArray(source, target, conditionCb) {\n  var il = source.length;\n\n  for (var i = 0; i < il; i++) {\n    var item = source[i];\n\n    if (conditionCb(item)) {\n      target.push(source.splice(i--, 1)[0]);\n    }\n  }\n};\n\nJSONPath.prototype.vm = {\n  /**\n   * @param {string} expr Expression to evaluate\n   * @param {PlainObject} context Object whose items will be added\n   *   to evaluation\n   * @returns {any} Result of evaluated code\n   */\n  runInNewContext: function runInNewContext(expr, context) {\n    var keys = Object.keys(context);\n    var funcs = [];\n    moveToAnotherArray(keys, funcs, function (key) {\n      return typeof context[key] === 'function';\n    });\n    var values = keys.map(function (vr, i) {\n      return context[vr];\n    });\n    var funcString = funcs.reduce(function (s, func) {\n      var fString = context[func].toString();\n\n      if (!/function/.test(fString)) {\n        fString = 'function ' + fString;\n      }\n\n      return 'var ' + func + '=' + fString + ';' + s;\n    }, '');\n    expr = funcString + expr; // Mitigate http://perfectionkills.com/global-eval-what-are-the-options/#new_function\n\n    if (!/([\"'])use strict\\1/.test(expr) && !keys.includes('arguments')) {\n      expr = 'var arguments = undefined;' + expr;\n    } // Remove last semi so `return` will be inserted before\n    //  the previous one instead, allowing for the return\n    //  of a bare ending expression\n\n\n    expr = expr.replace(/;[\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]*$/, ''); // Insert `return`\n\n    var lastStatementEnd = expr.lastIndexOf(';');\n    var code = lastStatementEnd > -1 ? expr.slice(0, lastStatementEnd + 1) + ' return ' + expr.slice(lastStatementEnd + 1) : ' return ' + expr; // eslint-disable-next-line no-new-func\n\n    return _construct(Function, _toConsumableArray(keys).concat([code])).apply(void 0, _toConsumableArray(values));\n  }\n};\n\nexport { JSONPath };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}